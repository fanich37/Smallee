"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(t):t.Smallee=e(t)}("undefined"!=typeof global?global:window||(void 0).window||(void 0).global,function(t){var e;(e=Element.prototype).matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(t){return this?this.matches(t)?this:this.parentElement?this.parentElement.closest(t):null:null};var i="smallee",n="smallee-inner",a="smallee-track",o="smallee-slide",s="smallee-prev",r="smallee-next",l="smallee-prev_disabled",h="smallee-next_disabled",c={arrows:!0,delay:300,easeFunc:"ease-in-out",effect:"slide",loop:!1,resizeTimeout:1e3,responsive:!0,slidesToScroll:1,slidesToShow:1,swipeable:!1,threshold:100},d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,u=window.cancelAnimationFrame||window.mozCancelAnimationFrame;function m(t){"object"===(void 0===t?"undefined":_typeof(t))&&void 0!==t.selector?(this.selector=document.querySelector(t.selector),this.slides=Array.prototype.slice.call(this.selector.children),this.numberOfSlides=this.slides.length,this.settings=v(c,t),this.settings.transition=this.settings.easeFunc+" "+this.settings.delay+"ms",this.init()):console.log("ðŸš« Something went wrong. Please check the doc for any mistakes in config.")}window.requestAnimationFrame=d,window.cancelAnimationFrame=u,(window.Smallee=m).prototype.init=function(){var t=this,e=f.call(this,this.settings.effect);this.selector.appendChild(e),p.call(this),this.settings.arrows&&(w.call(this),this.bindGetDirection=D.bind(this),E.call(this)),this.settings.swipeable&&(this.bindMouseDown=L.bind(this),this.bindMouseUp=S.bind(this),this.bindMouseMove=M.bind(this),this.bindMouseLeave=x.bind(this),this.bindPreventDragStart=k.bind(this),T.call(this)),this.settings.responsive&&(this.bindResizeHandler=C.bind(this),R.call(this));var s=setTimeout(function(){clearTimeout(s),t.refresh()},10)},m.prototype.changeSlide=function(t){var e=this,s=void 0,i=void 0;switch(t){case"next":this.instanceData.wasMovedOn-this.stepRange>=this.scrollLimit&&(i=this.instanceData.wasMovedOn-this.stepRange),this.instanceData.wasMovedOn-this.stepRange<this.scrollLimit&&(i=this.scrollLimit),this.settings.loop&&this.instanceData.wasMovedOn===this.scrollLimit&&(i=0);break;case"prev":0<this.instanceData.wasMovedOn+this.stepRange&&(i=0),this.instanceData.wasMovedOn+this.stepRange<=0&&(i=this.instanceData.wasMovedOn+this.stepRange),this.settings.loop&&0===this.instanceData.wasMovedOn&&(i=this.scrollLimit);break;default:return}switch(this.settings.effect){case"slide":default:s=d(function(){e.track.style.transform="translate3d("+i+"px, 0, 0)",e.instanceData.wasMovedOn=b.call(e),y.call(e),g.call(e),u(s)})}},m.prototype.refresh=function(){p.call(this)},m.prototype.onSlideChange=function(t){t()},m.prototype.destroy=function(t){var e=this,s=Array.prototype.slice.call(this.track.children);if(this.selector.classList.remove("smallee"),this.selector.removeChild(this.inner),this.settings.arrows&&(this.selector.removeChild(this.prev),this.selector.removeChild(this.next),O.call(this)),this.settings.swipeable&&z.call(this),this.settings.responsive&&A.call(this),s.forEach(function(t){t.classList.remove("smallee-slide"),t.removeAttribute("data-index"),t.style.removeProperty("width"),e.selector.appendChild(t)}),t){for(var i in t)delete t[i];t=null}};var v=function(t,e){for(var s in t)e[s]||(e[s]=t[s]);return e},f=function(t){var s=this,e=document.createDocumentFragment();switch(this.selector.classList.add(i),this.inner=document.createElement("DIV"),this.inner.classList.add(n),t){case"slide":default:this.track=document.createElement("DIV"),this.track.classList.add(a),this.slides.forEach(function(t,e){t.setAttribute("data-index",e),t.classList.add(o),s.track.appendChild(t)}),this.inner.appendChild(this.track)}return e.appendChild(this.inner),e},p=function(){var e=this;switch(this.instanceData={start:null,wasMovedOn:0,resized:!1},this.settings.effect){case"slide":default:var s=this.selector.scrollWidth;this.stepRange=s/this.settings.slidesToShow*this.settings.slidesToScroll,this.scrollLimit=-(this.numberOfSlides-this.settings.slidesToShow)*(this.stepRange/this.settings.slidesToScroll),this.track.style.width=s*this.numberOfSlides/this.settings.slidesToShow+"px",this.track.style.transform="translate3d(0, 0, 0)",this.track.style.transition=this.settings.transition,this.slides.forEach(function(t){t.style.width=s/e.settings.slidesToShow+"px"})}},w=function(){this.prev=document.createElement("BUTTON"),this.prev.type="button",this.prev.classList.add(s),this.next=document.createElement("BUTTON"),this.next.type="button",this.next.classList.add(r),this.selector.appendChild(this.prev),this.selector.appendChild(this.next),E.call(this),g.call(this)},g=function(){this.settings.arrows&&!this.settings.loop&&(this.instanceData.wasMovedOn===this.scrollLimit?this.next.classList.add(h):this.next.classList.remove(h),0===this.instanceData.wasMovedOn?this.prev.classList.add(l):this.prev.classList.remove(l))},b=function(){var t=this.track.style.transform;return t?Number(t.slice(t.indexOf("(")+1,t.indexOf("p"))):0},y=function(){this.track.style.transition=this.settings.transition},D=function(){event.target.closest("."+r)&&this.changeSlide("next"),event.target.closest("."+s)&&this.changeSlide("prev")},L=function(t){this.isDown=!0,this.instanceData.start=t.clientX,function(){this.track.style.transition="0s"}.call(this)},S=function(){this.isDown=!1,event.clientX-this.instanceData.start<-this.settings.threshold?this.changeSlide("next"):event.clientX-this.instanceData.start>this.settings.threshold?this.changeSlide("prev"):(y.call(this),this.track.style.transform="translate3d("+this.instanceData.wasMovedOn+"px, 0, 0)")},M=function(t){this.isDown&&"fade"!==this.settings.effect&&(this.track.style.transform="translate3d("+(this.instanceData.wasMovedOn+t.clientX-this.instanceData.start)+"px, 0, 0)")},x=function(){if(this.isDown){if(this.isDown=!1,y.call(this),event.clientX-this.instanceData.start<-this.settings.threshold)return void this.changeSlide("next");if(event.clientX-this.instanceData.start>this.settings.threshold)return void this.changeSlide("prev");this.track.style.transform="translate3d("+this.instanceData.wasMovedOn+"px, 0, 0)"}},k=function(t){var e;(e=t).preventDefault(),e.stopPropagation()},E=function(){this.selector.addEventListener("click",this.bindGetDirection)},O=function(){this.selector.removeEventListener("click",this.bindGetDirection)},T=function(){this.selector.addEventListener("mousedown",this.bindMouseDown),this.selector.addEventListener("mouseup",this.bindMouseUp),this.selector.addEventListener("mousemove",this.bindMouseMove),this.selector.addEventListener("mouseleave",this.bindMouseLeave),this.selector.addEventListener("dragstart",this.bindPreventDragStart)},z=function(){this.selector.removeEventListener("mousedown",this.bindMouseDown),this.selector.removeEventListener("mouseup",this.bindMouseUp),this.selector.removeEventListener("mousemove",this.bindMouseMove),this.selector.removeEventListener("mouseleave",this.bindMouseLeave),this.selector.removeEventListener("dragstart",this.bindPreventDragStart)},R=function(){window.addEventListener("resize",this.bindResizeHandler)},A=function(){window.removeEventListener("resize",this.bindResizeHandler)},C=function(){var t=this;this.instanceData.resized=!0;var e=setTimeout(function(){t.instanceData.resized&&(clearTimeout(e),t.refresh(),t.instanceData.resized=!1)},this.settings.resizeTimeout)};return m});